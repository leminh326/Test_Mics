/*
 * tof.h
 *
 *  Created on: 6 sept. 2019
 *      Author: clement
 */

#ifndef SRC_TOF_H_
#define SRC_TOF_H_

// --------------------------------------------------------------------------------------------------------------------
// ----- includes
// --------------------------------------------------------------------------------------------------------------------
#include "vl53l0x_api.h"
#include "peripheral_config.h"
// --------------------------------------------------------------------------------------------------------------------
// ----- public constant macros
// --------------------------------------------------------------------------------------------------------------------


// --------------------------------------------------------------------------------------------------------------------
// ----- public function macros
// --------------------------------------------------------------------------------------------------------------------


// --------------------------------------------------------------------------------------------------------------------
// ----- public typedefs, structures, unions and enums
// --------------------------------------------------------------------------------------------------------------------

typedef enum {
	LONG_RANGE 		= 0, /*!< Long range mode */
	HIGH_SPEED 		= 1, /*!< High speed mode */
	HIGH_ACCURACY	= 2, /*!< High accuracy mode */
} RangingConfig_e;

// --------------------------------------------------------------------------------------------------------------------
// ----- public variables
// --------------------------------------------------------------------------------------------------------------------
extern int LeakyFactorFix8;
extern VL53L0X_Dev_t VL53L0XDev;
/**
 * Global ranging struct
 */
extern VL53L0X_RangingMeasurementData_t RangingMeasurementData;

// --------------------------------------------------------------------------------------------------------------------
// ----- public function prototypes
// --------------------------------------------------------------------------------------------------------------------

int DetectSensor();
void SetupSingleShot(RangingConfig_e rangingConfig);

#endif /* SRC_TOF_H_ */
